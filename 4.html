<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Handbook</title>
    <link rel="stylesheet" href="style.css">
    <script src="sidenav.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="highlight/styles/vs2015.min.css">
    <script src="highlight/highlight.min.js"></script>
    <script src="highlight/src/languages/mcfunction.js"></script>
    <script src="highlight/dist/mcfunction.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>

<!-- Side navigation -->
<div id="sidenav" class="sidenav">

    <a href="index.html">Home</a>
    <a href="0.html">Section 0: What is an Admin?</a>
    <div class="subnav">
        <a href="0.html#What-are-the-responsibilities-of-administrators">What are the responsibilities of
            administrators?</a>
        <a href="0.html#How-does-this-differ-from-other-staff-positions">How does this differ from other staff
            positions?</a>
        <a href="0.html#The purpose of this handbook">The purpose of this handbook</a>
    </div>

    <a href="1.html">Section 1: Minecraft Commands</a>
    <div class="subnav">
        <a href="1.html#notation-guide">Notation Guide</a>
        <a href="1.html#target-selectors">Target Selectors</a>
        <a href="1.html#important-commands">Important Commands</a>
        <div class="subsubnav">
            <a href="1.html#ban">/ban</a>
            <a href="1.html#clear">/clear</a>
            <a href="1.html#datapack">/datapack</a>
            <a href="1.html#execute">/execute</a>
            <a href="1.html#give">/give</a>
            <a href="1.html#kick">/kick</a>
            <a href="1.html#pardon">/pardon</a>
            <a href="1.html#scoreboard">/scoreboard</a>
            <a href="1.html#summon">/summon</a>
            <a href="1.html#tellraw">/tellraw</a>
            <a href="1.html#whitelist">/whitelist</a>
        </div>
    </div>

    <a href="2.html">Section 2: Server Commands</a>
    <div class="subnav">
        <a href="2.html#paper-spigot-bukkit">Paper/Spigot/Bukkit</a>
        <a href="2.html#dreamvisitor">Dreamvisitor</a>
        <div class="subsubnav">
            <a href="2.html#item-blacklist">Item Blacklist</a>
            <a href="2.html#soft-whitelist">Soft Whitelist</a>
            <a href="2.html#pause-chat">Pause Chat</a>
        </div>
        <a href="2.html#essentialsx">EssentialsX</a>
        <div class="subsubnav">
            <a href="2.html#powertools">Powertools</a>
        </div>
        <a href="2.html#eyeofonyx">Eye of Onyx</a>
        <a href="2.html#griefdefender">GriefDefender</a>
        <div class="subsubnav">
            <a href="2.html#griefdefender-commands">Commands</a>
            <a href="2.html#claim-types">Claim Types</a>
            <a href="2.html#trust-types">Trust Types</a>
        </div>
        <a href="2.html#luckperms">LuckPerms</a>
        <a href="2.html#signshop">SignShop</a>
        <a href="2.html#worldedit">WorldEdit</a>
        <div class="subsubnav">
            <a href="2.html#worldedit-basic-commands">Basic Commands</a>
            <a href="2.html#worldedit-tool-commands">Tool Commands</a>
            <a href="2.html#worldedit-generation-commands">Generation Commands</a>
            <a href="2.html#worldedit-brush-commands">Brush Commands</a>
            <a href="2.html#worldedit-flags">Flags</a>
        </div>
        <a href="2.html#worldguard">WorldGuard</a>
        <div class="subsubnav">
            <a href="2.html#worldguard-commands">Commands</a>
            <a href="2.html#worldguard-flags">Flags</a>
        </div>
    </div>

    <a href="3.html">Section 3: Navigating Discord</a>
    <div class="subnav">
        <a href="3.html#bots">Bots</a>
        <div class="subsubnav">
            <a href="3.html#tupperbox">Tupperbox</a>
            <a href="3.html#chip">Chip</a>
            <a href="3.html#tickets">Tickets</a>
            <a href="3.html#zira">Zira</a>
            <a href="3.html#circle">Circle</a>
            <a href="3.html#pluralkit">PluralKit</a>
            <a href="3.html#dreamvisitor">Dreamvisitor</a>
        </div>
        <a href="3.html#channels">Channels</a>
        <a href="3.html#roles">Roles</a>
        <a href="3.html#stages-events">Stages & Events</a>
    </div>

    <a href="4.html">Section 4: Royalty</a>

    <a href="5.html">Section 5: Project Management</a>
    <div class="subnav">
        <a href="5.html#documentation-tracking">Documentation and Tracking</a>
        <a href="5.html#time-management">Time Management</a>
        <a href="5.html#communication">Communication</a>
        <a href="5.html#respect-professionalism">Respect and Professionalism</a>
        <a href="5.html#tracking-a-project">Tracking a Project</a>
        <a href="5.html#operations-activities">Operations Activities</a>
        <a href="5.html#project-retrospectives">Project Retrospectives</a>
    </div>

    <a href="6.html">Section 6: Personal Responsibility</a>
    <div class="subnav">
        <a href="6.html#security">Security</a>
        <a href="6.html#engagement">Engaging in a Community</a>
    </div>

    <br>
</div>

<body id="body">
    <header style="display: flex; align-items: center; background-color: #131313;">
        <span id="navbutton" class="navtoggle" onclick="toggleNav()">
            <div></div>
            <div></div>
            <div></div>
        </span>
        <nav>
            <p style="margin: 0px; margin-right: 50px;">Wings of Fire: The New World - Admin Handbook</p>
        </nav>
    </header>

    <main style="padding: 0;">

        <header>
            <div class="maintext">
                <h1>Section 4: Royalty</h1>
            </div>
        </header>

        <div class="maintext">

            <p>The Wings of Fire: The New World royalty system is complex, but it must be as simple and intuitive as
                possible for players. Admins alone primarily manage and oversee the royalty system and there are many
                different steps to operate it correctly. Here is the simplified pipeline:</p>

            <div
                style="display: flex; align-items: center; gap: 10px; justify-items: center; text-align: center; font-weight: 300;">
                <p>A player initiates a challenge.</p>
                <div style="width: 50px; border: solid 1px; height: 0; justify-self: center;"></div>
                <p>The challenge takes place.</p>
                <div style="width: 50px; border: solid 1px; height: 0;"></div>
                <p>The royalty board changes accordingly.</p>
            </div>

            <p>The <a href="2.html#eyeofonyx">Eye of Onyx</a> plugin automates this system. Players can participate in
                the royalty system without staff involvement.</p>

            <h2 id="challenge-handshakes">Challenge Handshakes</h2>

            <div class="two-share">
                <div>
                    <p>A challenge can be initiated with <code>/challenge</code>. To initiate a challenge, a player
                        must meet the
                        following requirements:</p>
                    <ul>
                        <li>The player must be part of a tribe-associated team.</li>
                        <li>The player must not already be participating in a challenge.</li>
                        <li>The player must not be on movement cooldown.</li>
                        <li>The player must not be a ruler.</li>
                        <li>The player must not be banned from royalty.</li>
                    </ul>
                    <p>If all these requirements are met, the player will be given the option to challenge one of
                        the
                        positions directly above their own. When chosen, Eye of Onyx will verify that the player
                        being
                        challenged (the defender) meets the following requirements:</p>
                    <ul>
                        <li>The player must not already be participating in a challenge.</li>
                        <li>The player must not be on movement cooldown.</li>
                    </ul>
                    <p>If all these requirements are met, the challenge will be initiated! The defender then must
                        acknowledge the challenge via the notification received.</p>
                </div>

                <div>
                    <img alt="A GIF of the challenge initiation process." src="ChallengeInit.GIF">
                    <p class="caption">The challenge initiation process.</p>
                    <img alt="A GIF of the challenge acknowledgement process."
                        src="https://lh6.googleusercontent.com/8BcBdk_SV2HeTC1Tk-hrHB_E42T8orivb2WEhm3VvSJgqCOaiCmSZne8kx6cNGYjV7jvpUU7uKwve3HLWC5oTQnnZPZTeaW6E1rIaRmTQvAk6-qvtHPTjWUq_kTOBDa201ZJlc18fiVJ0IYnCetLHh4">
                    <p class="caption">The challenge acknowledgement process</p>
                </div>
            </div>

            <p>Players may have more than one requested challenge at a time. If both heirs simultaneously challenge
                the ruler, the ruler may choose which to accept if neither have yet been acknowledged. Once a
                challenge has been accepted, all other requests are discarded and no further challenges can be
                initiated against the player.</p>
            <p>Before a challenge can be accepted, the defender must use Eye of Onyx's web-based Royalty Portal to
                submit at least one date and time for the challenge to take place. After submitting available times,
                the challenge is considered accepted. Players who have received a challenge request must accept it
                within a set number of days before they are automatically removed. After the defender accepts the
                challenge, the attacker must select one of the propsed times. When one is chosen, the challenge is
                considered finalized.</p>
            <p>At the time agreed upon, the challenge will be considered active and players will be promted to
                teleport to the challenge lobby. From here, the competitors will select which challenge to play.
                When both teams are ready, the challenge will begin. After the game, the winner will stay on the
                royalty board and the loser will be removed.</p>
            <p>Players are allowed five total minutes of offline time. If a player disconnects for two minutes, they can
                disconnect for another three before their time is out. If a player runs out of offline time, the other
                player is automatically considered the winner. This way, a challenge will never end in a stalemate, even
                when both players leave the game.</p>
            <p>The royalty board will then be updated accordingly.</p>

            <h2 id="challenge-handshakes">Royalty Management</h2>

            <p>In some cases, it may be necessary to manually manage the royalty board. Internally, the royalty board is
                considered a set of 10 different states, one per tribe. Each of these states have five positions, ruler,
                heir apparent, heir presumptive, noble apparent, and noble presumptive. No state can affect another, so
                they all act independently. In addition to the royalty board itself, Eye of Onyx also manages royalty
                roles (on both guilds) as well as permissions through LuckPerms, which control claim permissions.
            </p>
        
            <p>Below are all Eye of Onyx commands. Note the following:
                <ul>
                    <li>When an argument requires a player or entity, it will always allow vanilla
                        <a href="1.html#target-selectors">target selectors</a>.</li>
                    <li>Times will always attempt to display in your local time zone (determined through approximate
                        geo-location). When submitting a time, submit it using your local time.</li>
                </ul>
            </p>

            <div class="cmdtable">
                <entry>
                    <p><b>Command</b></p>
                </entry>
                <entry>
                    <p><b>Description</b></p>
                </entry>
                <entry>
                    <p><code>/royalty list [tribe]</code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>📗
                            <hover_note_text id="note_green"></hover_note_text>
                        </hover_note>

                        Lists the royalty board. If a tribe is specified, only that tribe will be reported.
                    </p>
                </entry>
                <entry>
                    <p><code>/royalty set &lt;player> &lt;position></code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>🛡️
                            <hover_note_text id="note_admin"></hover_note_text>
                        </hover_note>
                        <hover_note>📗
                            <hover_note_text id="note_green"></hover_note_text>
                        </hover_note>

                        Sets the specified member to the specified position of their tribe. This will overwrite the
                        specified position of their tribe. If a player is overwritten, their roles and permissions will
                        be removed and their challenges will be canceled. If there are empty positions available above
                        the target position, the player will automatically be promoted to the highest empty position.
                        The player will be given appropriate roles and permissions. This action will fail if the player
                        is banned, the player has no recorded tribe, or the player is already on the royalty board.
                        This command, upon succeeding, will set the user's last online time to the current time,
                        regardless of when the player was actually last online.
                    </p>
                </entry>
                <entry>
                    <p><code>/royalty clear &lt;tribe> &lt;position></code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>🛡️
                            <hover_note_text id="note_admin"></hover_note_text>
                        </hover_note>
                        <hover_note>📗
                            <hover_note_text id="note_green"></hover_note_text>
                        </hover_note>

                        Clears the entry at the specified location and updates the royalty board. This will cancel any
                        challenges involving this player as well as remove their roles and permissions. If any players
                        occupy positions below the player to be removed, they will automatically be promoted.
                    </p>
                </entry>
                <entry>
                    <p><code>/royalty swap &lt;tribe> &lt;pos1> &lt;pos2></code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>🛡️
                            <hover_note_text id="note_admin"></hover_note_text>
                        </hover_note>
                        <hover_note>📗
                            <hover_note_text id="note_green"></hover_note_text>
                        </hover_note>

                        Swap two positions on a tribe's royalty board. This will cancel any challenges involving these
                        players. It is allowed to swap any position with any position, which means it is possible to swap
                        an occupied position with an empty position. If you want to swap with a player who is not on the
                        royalty board, <code>/set</code> should be used instead.
                    </p>
                </entry>
                <entry>
                    <p><code>/royalty update</code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>🛡️
                            <hover_note_text id="note_admin"></hover_note_text>
                        </hover_note>
                        <hover_note>📒
                            <hover_note_text id="note_yellow"></hover_note_text>
                        </hover_note>

                        Reloads, recalculates, and updates the entire royalty board. It may take some time to completely
                        apply permissions and roles. When executed, Eye of Onyx will reload <code>board.yml</code> from disk
                        and recalculate the positions, permissions, and roles of each position on each state. Note that this
                        command does not check any players who are not on the royalty board, so non-royalty members will not
                        have any checks or updates.
                    </p>
                </entry>
                <entry>
                    <p><code>/royalty manage &lt;tribe> &lt;position> [key] [value]</code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>🛡️
                            <hover_note_text id="note_admin"></hover_note_text>
                        </hover_note>
                        <hover_note>📕
                            <hover_note_text id="note_red"></hover_note_text>
                        </hover_note>

                        Manually set data values in board.yml. If you execute the command without the <code>[key]</code> or
                        <code>[value]</code> arguments, Eye of Onyx will print all the attributes of that position. If only
                        the <code>[value]</code> argument is missing, Eye of Onyx will print the key specified. Below are all
                        keys and their descriptions.

                        <ul>
                            <li><code>UUID</code>: The UUID of the player holding this position. This cannot be changed.</li>
                            <li><code>NAME</code>: The OC name of the player. This is usually set automatically from the
                            player's OpenRP character.</li>
                            <li><code>JOINED_POS</code>: The date and time that this player assumed their current position.</li>
                            <li><code>JOINED_BOARD</code>: The date and time that this player joined the royalty board.</li>
                            <li><code>LAST_ONLINE</code>: The date and time that this player last joined or left the game.</li>
                            <li><code>CHALLENGER</code>: The player challenging this position.</li>
                            <li><code>CHALLENGER</code>: The player challenging this position. This does not appear for ruler
                                positions.</li>
                        </ul>
                    </p>
                </entry>
                <entry>
                    <p><code>/eyeofonyx ban &lt;username></code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>🛡️
                            <hover_note_text id="note_admin"></hover_note_text>
                        </hover_note>
                        <hover_note>📗
                            <hover_note_text id="note_green"></hover_note_text>
                        </hover_note>
                        Adds a player to the royalty ban list. Banned players may not participate in royalty. This disallows them
                        access to the <code>/challenge</code> command and will remove them from the royalty board if they are
                        currently occupying a position.
                    </p>
                </entry>
                <entry>
                    <p><code>/eyeofonyx unban &lt;username></code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>🛡️
                            <hover_note_text id="note_admin"></hover_note_text>
                        </hover_note>
                        <hover_note>📗
                            <hover_note_text id="note_green"></hover_note_text>
                        </hover_note>

                        Removes a player from the royalty ban list.
                    </p>
                </entry>
                <entry>
                    <p><code>/eyeofonyx freeze</code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>🛡️
                            <hover_note_text id="note_admin"></hover_note_text>
                        </hover_note>
                        <hover_note>📕
                            <hover_note_text id="note_red"></hover_note_text>
                        </hover_note>

                        Toggles whether the royalty board can change or not. In the frozen state, challenge
                        initiation and royalty board movement are disabled.
                    </p>
                </entry>
                <entry>
                    <p><code>/eyeofonyx disable</code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>🛡️
                            <hover_note_text id="note_admin"></hover_note_text>
                        </hover_note>
                        <hover_note>✖️
                            <hover_note_text id="note_x"></hover_note_text>
                        </hover_note>

                        Disables the Eye of Onyx plugin. Use in a dire emergency.
                    </p>
                </entry>
                <entry>
                    <p><code>/eyeofonyx config [key] [value]</code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>🛡️
                            <hover_note_text id="note_admin"></hover_note_text>
                        </hover_note>
                        <hover_note>📕
                            <hover_note_text id="note_red"></hover_note_text>
                        </hover_note>

                        Allows changing some values in config.yml.
                    </p>
                </entry>
                <entry>
                    <p><code>/challenge</code></p>
                </entry>
                <entry>
                    <p>
                        <hover_note>📗
                            <hover_note_text id="note_green"></hover_note_text>
                        </hover_note>

                        Initiate a challenge.
                    </p>
                </entry>
            </div>

            <h2 id="challenge-handshakes">Roles</h2>

            <h2 id="challenge-handshakes">Permissions</h2>


        </div>
    </main>

    <footer id="footer">
        <header class="minorheader">
            <div class="maintext">
                <div class="navbar">
                    <div>
                        <a class="textbutton" href="3.html" title="Section 3: Navigating Discord">Previous</a>
                    </div>
                    <a class="textbutton" href="5.html" title="Section 5: Project Management">Next</a>
                </div>

            </div>
        </header>
        <div class="copy">
            &copy; 2023 Wings of Fire: The New World. <a
                href="https://github.com/Stonley890/Admin-Handbook/blob/main/LICENSE">MIT License<a>
        </div>

    </footer>
</body>

<script>

    const delay = ms => new Promise(res => setTimeout(res, ms));

    function toggleNav() {
        if (document.getElementById("sidenav").style.width == "250px") {
            closeNav();
        } else {
            openNav();
        }
    }

    const closeNav = async () => {
        const sidenav = document.getElementById("sidenav")
        for (const child of sidenav.children) {
            child.style.opacity = "0";
        }

        await delay(200);

        document.getElementById("sidenav").style.width = "0px";
        document.getElementById("body").style.marginLeft = "0px";
        document.getElementById("footer").style.marginLeft = "0px";
    }

    const openNav = async () => {

        document.getElementById("sidenav").style.width = "250px";
        document.getElementById("body").style.marginLeft = "250px";
        document.getElementById("footer").style.marginLeft = "250px";

        await delay(500);

        const sidenav = document.getElementById("sidenav")
        for (const child of sidenav.children) {
            child.style.opacity = "100";
        }
    }

</script>

</html>